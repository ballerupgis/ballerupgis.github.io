{"version":3,"sources":["webpack:///static/js/app.9f047da9956298d74aac.js","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?6324","webpack:///src/App.vue"],"names":["webpackJsonp","M93x","module","__webpack_exports__","__webpack_require__","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_87732ed4_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","NHnr","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","config","productionTip","el","template","components","App","PBYb","render","_vm","this","_h","$createElement","_c","_self","attrs","id","_m","_v","staticClass","type","on","click","$event","createReport","geometry","_l","item","SheetName","_s","Table","val","key","staticRenderFns","esExports","mWqT","exports","xJD8","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","n","__WEBPACK_IMPORTED_MODULE_1_axios__","__WEBPACK_IMPORTED_MODULE_1_axios___default","__WEBPACK_IMPORTED_MODULE_2_leaflet__","__WEBPACK_IMPORTED_MODULE_2_leaflet___default","__WEBPACK_IMPORTED_MODULE_3_leaflet_draw__","name","data","report","map","methods","getData","geom","self","a","post","then","response","Result","catch","error","console","log","length","constructor","alert","mounted","$nextTick","setView","tileLayer","attribution","subdomains","minZoom","maxZoom","ext","addTo","drawnItems","FeatureGroup","addLayer","drawControl","Control","Draw","draw","polygon","marker","polyline","rectangle","circle","circlemarker","edit","featureGroup","addControl","e","layer","layerType","crs","properties","shape","toGeoJSON"],"mappings":"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I1FR,4NJ2FQC,WI1FR,OJ2FQC,QI1FR,EJ2FQC,QI1FR,GJ2FQC,II1FR,QALAC,MAAAjE,KAOAuC,IJ4FM,IAAI2B,GAAa,GAAIhC,GAA8CU,EI1FzEuB,YJ2FMnE,MAAKuC,IAAI6B,SIzFfF,EJ4FM,IAAIG,GAAc,GAAInC,GAA8CU,EAAE0B,QAAQC,MAC5EC,MACEC,SI1FV,EJ2FUC,QI1FV,EJ2FUC,UI1FV,EJ2FUC,WI1FV,EJ2FUC,QI1FV,EJ2FUC,cIzFV,GJ2FQC,MACEC,aIxFVd,IJ2FMlE,MAAKuC,IAAI0C,WIzFfZ,EJ2FM,IAAI1B,GI1FV3C,IJ2FMA,MAAKuC,IAAI5B,GAAG,eAAgB,SAAUuE,GACpC,GACIC,IADOD,EI1FnBE,UJ2FoBF,EI1FpBC,OJ2FYE,GACF3E,KI1FV,OJ2FU4E,YACElD,KIvFZ,kCJ4FYmD,EAAQJ,EI1FpBK,WJ2FQ7C,GAAK5B,SI1FbwE,EJ4FQ5C,EAAK5B,SAASsE,IIzFtBA,EJ2FQnB,EAAWE,SI1FnBe,KJ6FMnF,KAAKuC,IAAI5B,GAAG,cAAe,cAI3BX,KAAKuC,IAAI5B,GAAG,eAAgB,WAE1BgC,EAAK5B,qBAQV","file":"static/js/app.9f047da9956298d74aac.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"xJD8\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_87732ed4_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"PBYb\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"mWqT\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_87732ed4_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"7+uW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(\"M93x\");\n// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n/* eslint-disable no-new */\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_1__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"PBYb\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{attrs:{\"id\":\"mapid\"}}),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-secondary btn-lg btn-block\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.createReport(_vm.geometry)}}},[_vm._v(\"HENT RAPPORT\")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"report\"}},_vm._l((_vm.report),function(item){return _c('div',{attrs:{\"id\":item.SheetName}},[_c('h1',[_vm._v(_vm._s(item.SheetName))]),_vm._v(\" \"),_c('table',{staticClass:\"table table-striped table-sm\"},[_vm._m(1,true),_vm._v(\" \"),_c('tbody',_vm._l((item.Table[0]),function(val,key){return _c('tr',[_c('td',[_vm._v(_vm._s(key))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(val))])])}))])])}))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar navbar-light bg-faded\"},[_c('h1',{staticClass:\"navbar-brand mb-0\"},[_vm._v(\"LOIS STAT API\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('td',[_c('strong',[_vm._v(\"VARIABEL\")])]),_vm._v(\" \"),_c('td',[_c('strong',[_vm._v(\"VÆRDI\")])])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"mWqT\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"xJD8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(\"fZjL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios__ = __webpack_require__(\"mtWM\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_leaflet__ = __webpack_require__(\"nrd6\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_leaflet___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_leaflet__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_leaflet_draw__ = __webpack_require__(\"GMVP\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_leaflet_draw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_leaflet_draw__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app',\n  data: function data() {\n    return {\n      report: {},\n      geometry: {},\n      map: {}\n    };\n  },\n\n  methods: {\n    getData: function getData(geom) {\n      var self = this;\n      // Make a get request\n      // let config = {\n      //   url: 'http://bal0-lois:8080/api/datapakkeresultat?procedureID=3&procedureParametre=%7B%22UdStraekID%22%3A%221%22%2C%22LS2RapportID%22%3A%223%22%7D',\n      //   data: geom\n      // }\n      __WEBPACK_IMPORTED_MODULE_1_axios___default.a.post('http://bal0-lois:8080/api/datapakkeresultat?procedureID=3&procedureParametre=%7B%22UdStraekID%22%3A%221%22%2C%22LS2RapportID%22%3A%223%22%7D', geom).then(function (response) {\n        self.report = response.data.Result;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    },\n    createReport: function createReport(geom) {\n      //Check if polygon is drawn\n      if (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(this.geometry).length === 0 && this.geometry.constructor === Object) {\n        alert('Du mangler at tegne et område på kortet');\n      } else {\n        this.getData(geom);\n      }\n    }\n  },\n  mounted: function mounted() {\n    //wait for document ready\n    this.$nextTick(function () {\n      // create a map in the \"map\" div, set the view to a given place and zoom\n      this.map = __WEBPACK_IMPORTED_MODULE_2_leaflet___default.a.map('mapid').setView([55.731267, 12.363396], 13);\n      // add an OpenStreetMap tile layer\n      __WEBPACK_IMPORTED_MODULE_2_leaflet___default.a.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}', {\n        attribution: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n        subdomains: 'abcd',\n        minZoom: 0,\n        maxZoom: 20,\n        ext: 'png'\n      }).addTo(this.map);\n\n      // Initialize the FeatureGroup to store editable layers\n      var drawnItems = new __WEBPACK_IMPORTED_MODULE_2_leaflet___default.a.FeatureGroup();\n      this.map.addLayer(drawnItems);\n\n      // Initialize the draw control and pass it the FeatureGroup of editable layers\n      var drawControl = new __WEBPACK_IMPORTED_MODULE_2_leaflet___default.a.Control.Draw({\n        draw: {\n          polygon: true,\n          marker: false,\n          polyline: false,\n          rectangle: false,\n          circle: false,\n          circlemarker: false\n        },\n        edit: {\n          featureGroup: drawnItems\n        }\n      });\n      this.map.addControl(drawControl);\n\n      var self = this;\n      this.map.on('draw:created', function (e) {\n        var type = e.layerType,\n            layer = e.layer,\n            crs = {\n          \"type\": \"name\",\n          \"properties\": {\n            \"name\": \"urn:ogc:def:crs:OGC:1.3:CRS84\"\n          }\n        };\n\n        // get geojson and store in model\n        var shape = layer.toGeoJSON();\n        self.geometry = shape;\n        // add crs def to geojson\n        self.geometry.crs = crs;\n\n        drawnItems.addLayer(layer);\n      });\n\n      this.map.on('draw:edited', function () {\n        //STORE CHANGES IN DATA PROP\n      });\n\n      this.map.on('draw:deleted', function () {\n        // Update db to save latest changes.\n        self.geometry = {};\n      });\n    });\n  }\n});\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.9f047da9956298d74aac.js","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-87732ed4\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-87732ed4\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('div',{attrs:{\"id\":\"mapid\"}}),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-secondary btn-lg btn-block\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.createReport(_vm.geometry)}}},[_vm._v(\"HENT RAPPORT\")]),_vm._v(\" \"),_c('div',{staticClass:\"row\"}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"report\"}},_vm._l((_vm.report),function(item){return _c('div',{attrs:{\"id\":item.SheetName}},[_c('h1',[_vm._v(_vm._s(item.SheetName))]),_vm._v(\" \"),_c('table',{staticClass:\"table table-striped table-sm\"},[_vm._m(1,true),_vm._v(\" \"),_c('tbody',_vm._l((item.Table[0]),function(val,key){return _c('tr',[_c('td',[_vm._v(_vm._s(key))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(val))])])}))])])}))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"navbar navbar-light bg-faded\"},[_c('h1',{staticClass:\"navbar-brand mb-0\"},[_vm._v(\"LOIS STAT API\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('td',[_c('strong',[_vm._v(\"VARIABEL\")])]),_vm._v(\" \"),_c('td',[_c('strong',[_vm._v(\"VÆRDI\")])])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-87732ed4\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = PBYb\n// module chunks = 1","<template>\n  <div id=\"app\">\n    <nav class=\"navbar navbar-light bg-faded\">\n      <h1 class=\"navbar-brand mb-0\">LOIS STAT API</h1>\n    </nav>\n    <div class=\"container\">\n      <div id=\"mapid\"></div>\n      <button  type=\"button\" class=\"btn btn-secondary btn-lg btn-block\" v-on:click=\"createReport(geometry)\">HENT RAPPORT</button>\n      <div class=\"row\"></div>\n        <div id=\"report\">\n          <div v-bind:id=\"item.SheetName\" v-for=\"item in report\">\n            <h1>{{item.SheetName}}</h1>\n            <table class=\"table table-striped table-sm\">\n              <thead>\n                <tr>\n                  <td><strong>VARIABEL</strong></td>\n                  <td><strong>VÆRDI</strong></td>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"(val, key) in item.Table[0]\">\n                  <td>{{key}}</td>\n                  <td>{{val}}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport L from 'leaflet'\nimport Draw from 'leaflet-draw'\n\nexport default {\n  name: 'app',\n  data () {\n    return {\n      report: {},\n      geometry: {},\n      map: {}\n    }\n  },\n  methods: {\n    getData: function (geom) {\n      let self = this\n      // Make a get request\n      // let config = {\n      //   url: 'http://bal0-lois:8080/api/datapakkeresultat?procedureID=3&procedureParametre=%7B%22UdStraekID%22%3A%221%22%2C%22LS2RapportID%22%3A%223%22%7D',\n      //   data: geom\n      // }\n      axios.post('http://bal0-lois:8080/api/datapakkeresultat?procedureID=3&procedureParametre=%7B%22UdStraekID%22%3A%221%22%2C%22LS2RapportID%22%3A%223%22%7D', geom)\n        .then(function (response) {\n          self.report = response.data.Result\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    },\n    createReport: function (geom) {\n      //Check if polygon is drawn\n      if (Object.keys(this.geometry).length === 0 && this.geometry.constructor === Object) {\n        alert('Du mangler at tegne et område på kortet')\n      } else {\n        this.getData(geom)\n      }\n    }\n  },\n  mounted: function () {\n    //wait for document ready\n    this.$nextTick(function () {\n      // create a map in the \"map\" div, set the view to a given place and zoom\n      this.map = L.map('mapid').setView([55.731267, 12.363396], 13);\n      // add an OpenStreetMap tile layer\n      L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}', {\n        attribution: 'Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a> &mdash; Map data &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n        subdomains: 'abcd',\n        minZoom: 0,\n        maxZoom: 20,\n        ext: 'png'\n      }).addTo(this.map);\n\n      // Initialize the FeatureGroup to store editable layers\n      let drawnItems = new L.FeatureGroup();\n      this.map.addLayer(drawnItems);\n\n      // Initialize the draw control and pass it the FeatureGroup of editable layers\n      let drawControl = new L.Control.Draw({\n          draw: {\n              polygon: true,\n              marker: false,\n              polyline: false,\n              rectangle: false,\n              circle: false,\n              circlemarker: false\n          },\n          edit: {\n              featureGroup: drawnItems\n          }\n      });\n      this.map.addControl(drawControl);\n\n      let self = this\n      this.map.on('draw:created', function(e) {\n        let type = e.layerType,\n            layer = e.layer,\n            crs = {\n                \"type\": \"name\", \n                \"properties\": {\n                    \"name\": \"urn:ogc:def:crs:OGC:1.3:CRS84\"\n                }\n            };\n\n        // get geojson and store in model\n        let shape = layer.toGeoJSON()\n        self.geometry = shape;\n        // add crs def to geojson\n        self.geometry.crs = crs;\n        \n        drawnItems.addLayer(layer);\n      });\n\n      this.map.on('draw:edited', function() {\n        //STORE CHANGES IN DATA PROP\n      });\n\n      this.map.on('draw:deleted', function() {\n          // Update db to save latest changes.\n          self.geometry = {};\n      });\n\n\n    })\n  }\n}\n</script>\n\n<style>\n  @import \"../node_modules/leaflet/dist/leaflet.css\";\n  @import \"../node_modules/leaflet-draw/dist/leaflet.draw.css\";\n\n  #mapid {\n    height: 500px;\n  }\n\n  #report {\n    padding-top: 30px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue"],"sourceRoot":""}